CREATE TABLE kasutaja (
id int NOT NULL AUTO_INCREMENT,
nimi varchar(50) NOT NULL,
haridus varchar(50) NULL,
amet varchar(255) NULL,
huvid varchar(255) NULL,
PRIMARY KEY (id)
);


CREATE TABLE admin(
id int NOT NULL AUTO_INCREMENT,
kasutajanimi varchar(40) NOT NULL,
parool varchar(255) NOT NULL,
Nimi varchar(100) NOT NULL,
PRIMARY KEY (id),
);


CREATE TABLE tulemus(
id int NOT NULL AUTO_INCREMENT,
ip_aadress varchar(40) NULL,
aeg_algus datetime NULL,
soorituste_arv int NULL,
kasutaja_id int NOT NULL,
vastamata int NULL,
valesti int NULL,
oigesti int NULL,
vastamata_nr varchar(100) NULL,
oigesti_nr varchar(100) NULL,
valesti_nr varchar(100) NULL,
skoor int NOT NULL,
PRIMAR KEY (id),
FOREIGN KEY(kasutaja_id)REFERENCES kasutaja(id)
);


CREATE TABLE kasutaja_vastab(
id int NOT NULL AUTO_INCREMENT,
kasutaja_id int NOT NULL,
tulemus_id int NOT NULL,
PRIMARY KEY (id),
FOREIGN KEY(kasutaja_id) REFERENCES kasutaja(id),
FOREIGN KEY(tulemus_id) REFERENCES tulemus(id)
);


CREATE TABLE skoorid(
id int NOT NULL AUTO_INCREMENT,
skoor int NOT NULL,
kasutaja_id int NULL,
viimane_kysimus int NULL,
oigesti int NULL,
valesti int NULL,
kuupaev timestamp NOT NULL,
oigesti_numbrid varchar(255) NULL,
valesti_numbrid varchar(255) NULL,
PRIMARY KEY(id),
FOREIGN KEY(kasutaja_id) REFERENCES kasutaja(id)
);


CREATE TABLE tagasiside(
id int NOT NULL AUTO_INCREMENT,
tagasiside varchar(2000) NOT NULL,
email varchar(40) NOT NULL,
nupp int NOT NULL,
kysimus varchar(400) NOT NULL,
kasutaja_id int NOT NULL,
lisatud_kuupaev timestamp NOT NULL,
vastatud int NULL,
PRIMARY KEY(id),
FOREIGN KEY(kasutaja_id) REFERENCES kasutaja(id)
);